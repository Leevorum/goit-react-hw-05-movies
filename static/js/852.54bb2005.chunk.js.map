{"version":3,"file":"static/js/852.54bb2005.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesSmallCard/MoviesSmallCard.module.css?fedd","components/MoviesSmallCard/MoviesSmallCard.jsx","webpack://goit-react-hw-05-movies/./src/pages/searchMovies.module.css?a592","pages/SearchMovies.jsx","service/api-service.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"image\":\"MoviesSmallCard_image__iSmNo\",\"textWrapper\":\"MoviesSmallCard_textWrapper__zUZrl\",\"title\":\"MoviesSmallCard_title__WprdU\",\"score\":\"MoviesSmallCard_score__WnGhu\"};","import logo from '../../dummy_image.png';\nimport s from './MoviesSmallCard.module.css';\nimport PropTypes from 'prop-types';\n\nconst baseUrl = 'https://image.tmdb.org/t/p/w400';\n\nexport default function MoviesSmallCard({ movie }) {\n  const image = `${baseUrl}${movie.poster_path}`;\n  const noImage = 'https://image.tmdb.org/t/p/w400null';\n  const useScore = Math.round(movie.vote_average * 10);\n\n  return (\n    <div>\n      <img\n        src={image !== noImage ? image : logo}\n        alt={movie?.title ?? movie?.namevie}\n        className={s.image}\n      ></img>\n      <div className={s.textWrapper}>\n        <p className={s.title}>{movie?.title ?? movie?.name}</p>\n        <p className={s.score}>UserScore {useScore}%</p>\n      </div>\n    </div>\n  );\n}\n\nMoviesSmallCard.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchWrapper\":\"searchMovies_searchWrapper__3DZsb\",\"moviesWrapper\":\"searchMovies_moviesWrapper__v5e2R\",\"moviesList\":\"searchMovies_moviesList__oLxgR\",\"listItem\":\"searchMovies_listItem__NKSmB\",\"SearchForm\":\"searchMovies_SearchForm__Vm5Yw\",\"SearchFormButton\":\"searchMovies_SearchFormButton__ZnRtP\",\"SearchFormButtonLabel\":\"searchMovies_SearchFormButtonLabel__3DRJH\",\"SearchFormInput\":\"searchMovies_SearchFormInput__AwPbp\"};","import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { searchhMovies } from '../service/api-service';\nimport MoviesSmallCard from 'components/MoviesSmallCard/MoviesSmallCard';\nimport s from './searchMovies.module.css';\n\nexport default function SearchMovies() {\n  const [input, setInput] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [fetchError, setFetchError] = useState(false);\n  const location = useLocation();\n\n  //rewrite searchquery if back from details to search\n  useEffect(() => {\n    if (location.state) {\n      setSearchQuery(location.state.searchQuery);\n    }\n  }, [location.state]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (searchQuery === '') {\n          return;\n        }\n        const moviesResponce = await searchhMovies(searchQuery);\n        if (moviesResponce.data.results.length === 0) {\n          alert('There is no movie with this name');\n          setMovies([]);\n          return;\n        }\n        setMovies(moviesResponce.data.results);\n      } catch (error) {\n        setFetchError(true);\n      }\n    };\n    fetchData();\n  }, [searchQuery]);\n\n  const handleChange = evt => {\n    setInput(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    if (input === '') {\n      return;\n    }\n    setSearchQuery(input);\n    setInput('');\n  };\n\n  return (\n    <div>\n      <div className={s.searchWrapper}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            name=\"input\"\n            value={input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            onChange={handleChange}\n          />\n        </form>\n      </div>\n      <div className={s.moviesWrapper}>\n        <ul className={s.moviesList}>\n          {movies &&\n            movies.map(movie => (\n              <li key={movie.id} className={s.listItem}>\n                <Link\n                  to={`/movies/${movie.id}`}\n                  state={{ from: location, searchQuery: searchQuery }}\n                >\n                  <MoviesSmallCard movie={movie} />\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n      {fetchError && <p>Somthing goes wrong! Let's try again later...</p>}\n    </div>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '4cfbca3d61713e2ef2c4275dd6982dc3';\n\nexport async function searchhMovies(queryName) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${queryName}&page=1&include_adult=false`,\n    );\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchTrendingMovies() {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`,\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchMovieDetails(movieId) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\n    );\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function fetchCastMovieDetails(movieId) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function fetchReviewsMovieDetails(movieId) {\n  try {\n    const responce = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n    );\n\n    return responce;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["MoviesSmallCard","movie","image","poster_path","useScore","Math","round","vote_average","src","logo","alt","title","namevie","className","s","name","SearchMovies","useState","input","setInput","searchQuery","setSearchQuery","movies","setMovies","fetchError","setFetchError","location","useLocation","useEffect","state","fetchData","searchhMovies","moviesResponce","data","results","length","alert","onSubmit","evt","preventDefault","type","value","autoComplete","autoFocus","placeholder","onChange","target","map","to","id","from","API_KEY","queryName","axios","response","console","error","fetchTrendingMovies","fetchMovieDetails","movieId","fetchCastMovieDetails","fetchReviewsMovieDetails","responce"],"sourceRoot":""}